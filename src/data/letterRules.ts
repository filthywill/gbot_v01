import { OverlapRule } from '../types';

// IMPORTANT: This file serves as the FALLBACK and INITIALIZATION source for overlap rules
// - Used to initialize Zustand store on app start and reset
// - Used as fallback when lookup table doesn't have a value  
// - Used by OverlapDebugPanel for "reset to original" functionality
// - The lookup table in generatedOverlapLookup.ts takes PRIORITY during actual graffiti generation

// Default overlap settings - used as ultimate fallback
export const DEFAULT_OVERLAP: OverlapRule = {
  minOverlap: 0.04,
  maxOverlap: 0.12,
};

// Letter-specific overlap rules - LEGACY/FALLBACK (prefer generatedOverlapLookup.ts)
export const LETTER_OVERLAP_RULES: Record<string, OverlapRule> = {
  a: {
    minOverlap: 0.04,
    maxOverlap: 0.16,
    specialCases: {
      '1': 0.23,
      '2': 0.17,
      '3': 0.24,
      '4': 0.18,
      '7': 0.19,
      '8': 0.19,
      '9': 0.20,
      b: 0.18,
      c: 0.18,
      f: 0.18,
      g: 0.24,
      h: 0.22,
      i: 0.20,
      j: 0.28,
      k: 0.20,
      m: 0.14,
      n: 0.18,
      o: 0.25,
      p: 0.22,
      q: 0.22,
      r: 0.18,
      s: 0.24,
      t: 0.36,
      u: 0.24,
      v: 0.24,
      x: 0.22,
      y: 0.18,
      z: 0.26
    },
  },
  b: {
    minOverlap: 0.04,
    maxOverlap: 0.18,
    specialCases: {
      a: 0.12,
      l: 0.14,
      o: 0.14,
      p: 0.22,
      t: 0.26,
    },
  },
  c: {
    minOverlap: 0.04,
    maxOverlap: 0.18,
    specialCases: {
      '9': 0.15,
      a: 0.16,
      e: 0.18,
      f: 0.12,
      g: 0.14,
      h: 0.14,
      l: 0.16,
      n: 0.10,
      p: 0.22,
      t: 0.24,
      r: 0.16,
      y: 0.16
    },
  },
  d: {
    minOverlap: 0.04,
    maxOverlap: 0.18,
    specialCases: {
      '1': 0.10,
      '4': 0.12,
      '5': 0.11,
      '9': 0.15,
      a: 0.12,
      e: 0.12,
      i: 0.12,
      o: 0.12,
      p: 0.24,
      r: 0.11,
      t: 0.26,
      y: 0.10,
      v: 0.20,
      x: 0.14
    },
  },
  e: {
    minOverlap: 0.04,
    maxOverlap: 0.12,
    specialCases: {
      '0': 0.14,
      '1': 0.19,
      '2': 0.14,
      '3': 0.16,
      '4': 0.17,
      '5': 0.14,
      '6': 0.15,
      '7': 0.14,
      '9': 0.18,
      a: 0.19,
      c: 0.22,
      d: 0.16,
      e: 0.20,
      g: 0.20,
      i: 0.20,
      j: 0.22,
      k: 0.16,
      l: 0.20,
      m: 0.19,
      n: 0.16,
      o: 0.20,
      p: 0.20,
      r: 0.18,
      s: 0.22,
      t: 0.28,
      u: 0.20,
      v: 0.22,
      w: 0.18,
      x: 0.20,
      y: 0.15,
      z: 0.20
    },
  },
  f: {
    minOverlap: 0.04,
    maxOverlap: 0.20,
    specialCases: {
      '0': 0.15,
      '1': 0.12,
      '4': 0.16,
      '5': 0.10,
      '6': 0.15,
      '7': 0.11,
      '8': 0.14,
      '9': 0.19,
      a: 0.12,
      e: 0.14,
      o: 0.12,
      f: 0.16,
      i: 0.18,
      k: 0.16,
      l: 0.10,
      r: 0.16
    },
  },
  g: {
    minOverlap: 0.04,
    maxOverlap: 0.12,
    specialCases: {
      '1': 0.18,
      '3': 0.16,
      '4': 0.11,
      '6': 0.10,
      '7': 0.17,
      '8': 0.13,
      '9': 0.15,
      b: 0.10,
      c: 0.14,
      d: 0.14,
      e: 0.12,
      g: 0.18,
      i: 0.16,
      j: 0.19,
      r: 0.10,
      s: 0.16,
      t: 0.22,
      u: 0.12,
      v: 0.14,
      y: 0.14
    },
  },
  h: {
    minOverlap: 0.04,
    maxOverlap: 0.10,
    specialCases: {
      '1': 0.13,
      '3': 0.13,
      '5': 0.06,
      a: 0.06,
      e: 0.06,
      i: 0.14,
      j: 0.14,
      o: 0.10,
      s: 0.18,
      t: 0.20
    },
  },
  i: {
    minOverlap: 0.04,
    maxOverlap: 0.19,
    specialCases: {
      '0': 0.22,
      '2': 0.19,
      '3': 0.22,
      '4': 0.27,
      '5': 0.19,
      '6': 0.24,
      '7': 0.21,
      '9': 0.26,
      c: 0.24,
      f: 0.14,
      i: 0.30,
      j: 0.26,
      l: 0.20,
      n: 0.18,
      o: 0.22,
      p: 0.26,
      q: 0.24,
      r: 0.20,
      s: 0.26,
      t: 0.40,
      u: 0.25,
      v: 0.24
    },
  },
  j: {
    minOverlap: 0.04,
    maxOverlap: 0.12,
    specialCases: {
      '0': 0.08,
      '1': 0.07,
      '5': 0.07,
      '6': 0.09,
      '7': 0.07,
      '8': 0.07,
      '9': 0.12,
      d: 0.08,
      e: 0.08,
      i: 0.16,
      j: 0.20,
      p: 0.19,
      s: 0.17,
      t: 0.18,
      v: 0.14,
      x: 0.09
    },
  },
  k: {
    minOverlap: 0.04,
    maxOverlap: 0.18,
    specialCases: {
      '1': 0.18,
      '4': 0.19,
      '5': 0.15,
      '7': 0.16,
      '8': 0.15,
      '9': 0.18,
      a: 0.16,
      c: 0.20,
      j: 0.26,
      o: 0.22,
      p: 0.20,
      s: 0.22,
      t: 0.26,
      u: 0.24
    },
  },
  l: {
    minOverlap: 0.04,
    maxOverlap: 0.22,
    specialCases: {
      '1': 0.26,
      '4': 0.24,
      '9': 0.22,
      a: 0.28,
      i: 0.22,
      j: 0.28,
      k: 0.28,
      l: 0.26,
      s: 0.34,
      t: 0.43,
      o: 0.34,
      p: 0.30,
      y: 0.26,
      v: 0.30
    },
  },
  m: {
    minOverlap: 0.04,
    maxOverlap: 0.17,
    specialCases: {
      '3': 0.19,
      e: 0.15,
      i: 0.19,
      m: 0.17,
      o: 0.16,
      p: 0.20,
      s: 0.20,
      t: 0.26,
      v: 0.19
    },
  },
  
  
  n: {
    minOverlap: 0.04,
    maxOverlap: 0.08,
    specialCases: {
      '1': 0.13,
      '3': 0.10,
      '5': 0.07,
      a: 0.14,
      d: 0.06,
      e: 0.06,
      g: 0.08,
      i: 0.14,
      j: 0.18,
      k: 0.12,
      n: 0.08,
      o: 0.12,
      s: 0.16,
      t: 0.20,
      v: 0.20
    },
  },
  
  o: {
    minOverlap: 0.04,
    maxOverlap: 0.1,
    specialCases: {
      d: 0.07,
      j: 0.14,
      n: 0.06,
      p: 0.10,
      r: 0.08,
      s: 0.17,
      t: 0.2,
      w: 0.10,
    },
  },
  p: {
    minOverlap: 0.04,
    maxOverlap: 0.20,
    specialCases: {
      '1': 0.10,
      '2': 0.16,
      '3': 0.14,
      '8': 0.15,
      a: 0.16,
      e: 0.16,
      i: 0.22,
      o: 0.26,
      p: 0.30,
      s: 0.25,
      t: 0.26
    },
  },

  q: {
    minOverlap: 0.04,
    maxOverlap: 0.14,
    specialCases: {
      '0': 0.07,
      '1': 0.10,
      '4': 0.11,
      '5': 0.09,
      '6': 0.05,
      '7': 0.10,
      '8': 0.09,
      '9': 0.11,
      a: 0.08,
      e: 0.17,
      f: 0.10,
      h: 0.10,
      l: 0.10,
      m: 0.10,
      n: 0.10,
      o: 0.12,
      r: 0.05,
      t: 0.18,
      u: 0.06
    },
  },
  r: {
    minOverlap: 0.04,
    maxOverlap: 0.20,
    specialCases: {
      '8': 0.17,
      a: 0.18,
      d: 0.14,
      s: 0.18,
      t: 0.26,
      v: 0.24
    },
  },
  s: {
    minOverlap: 0.04,
    maxOverlap: 0.12,
    specialCases: {
      '4': 0.16,
      a: 0.09,
      f: 0.09,
      g: 0.12,
      h: 0.11,
      i: 0.18,
      j: 0.16,
      l: 0.08,
      m: 0.10,
      n: 0.16,
      p: 0.12,
      o: 0.14,
      q: 0.18,
      t: 0.22,
      s: 0.24,
      v: 0.18
    },
  },
  t: {
    minOverlap: 0.04,
    maxOverlap: 0.16,
    specialCases: {
      '1': 0.07,
      '7': 0.07,
      b: 0.10,
      d: 0.12,
      e: 0.08,
      f: 0.10,
      i: 0.20,
      l: 0.10,
      n: 0.10,
      o: 0.20,
      r: 0.10,
      s: 0.20,
      t: 0.22,
      v: 0.12
    },
  },
  u: {
    minOverlap: 0.04,
    maxOverlap: 0.08,
    specialCases: {
      '2': 0.10,
      '3': 0.13,
      '9': 0.13,
      c: 0.14,
      d: 0.10,
      g: 0.16,
      i: 0.12,
      t: 0.18
    },
  },

  v: {
    minOverlap: 0.04,
    maxOverlap: 0.09,
    specialCases: {
      '1': 0.05,
      '2': 0.13,
      '9': 0.13,
      c: 0.14,
      d: 0.14,
      e: 0.05,
      f: 0.06,
      g: 0.16,
      i: 0.10,
      n: 0.07,
      o: 0.16,
      p: 0.12,
      q: 0.16,
      s: 0.18,
      t: 0.16,
      z: 0.10
    },
  },
  
  w: {
    minOverlap: 0.04,
    maxOverlap: 0.09,
    specialCases: {
      '1': 0.11,
      '3': 0.12,
      '5': 0.07,
      a: 0.05,
      i: 0.13,
      j: 0.12,
      n: 0.06,
      o: 0.13,
      s: 0.16,
      t: 0.16
    },
  },
  x: {
    minOverlap: 0.04,
    maxOverlap: 0.2,
    specialCases: {
      e: 0.18,
      t: 0.24,
    },
    
  },
  y: {
    minOverlap: 0.04,
    maxOverlap: 0.1,
    specialCases: {
      '1': 0.06,
      a: 0.08,
      b: 0.1,
      e: 0.04,
      f: 0.08,
      k: 0.08,
      m: 0.04,
      n: 0.06,
      s: 0.18,
      t: 0.16,
      u: 0.12,
      p: 0.12,
      v: 0.1,
    },
  },
  z: {
    minOverlap: 0.04,
    maxOverlap: 0.20,
    specialCases: {
      '0': 0.13,
      '1': 0.10,
      '3': 0.13,
      '5': 0.11,
      '6': 0.12,
      '7': 0.12,
      '8': 0.11,
      '9': 0.12,
      i: 0.14,
      v: 0.14,
      y: 0.12,
      z: 0.10
    },
  },
  '0': {
    minOverlap: 0.04,
    maxOverlap: 0.12,
    specialCases: {
      5: 0.11,
      8: 0.08
    },
  },
  '1': {
    minOverlap: 0.01,
    maxOverlap: 0.11,
    specialCases: {
      '1': 0.04,
      '2': 0.07,
      '3': 0.10,
      '4': 0.07,
      '5': 0.06,
      '7': 0.04,
      '8': 0.07,
      '9': 0.08,
      b: 0.05,
      d: 0.03,
      e: 0.05,
      f: 0.03,
      g: 0.07,
      h: 0.04,
      i: 0.10,
      j: 0.09,
      k: 0.04,
      l: 0.05,
      m: 0.05,
      n: 0.03,
      o: 0.05,
      p: 0.07,
      q: 0.09,
      r: 0.05,
      s: 0.08,
      t: 0.05,
      u: 0.05,
      v: 0.05,
      w: 0.03,
      x: 0.01,
      y: 0.05,
      z: 0.02
    },
  },
  '2': {
    minOverlap: 0.04,
    maxOverlap: 0.12,
    specialCases: {
      1: 0.1,
      7: 0.07
    },
  },
  '3': {
    minOverlap: 0.01,
    maxOverlap: 0.08,
    specialCases: {
      0: 0.07,
      5: 0.09
    },
  },
  '4': {
    minOverlap: 0.01,
    maxOverlap: 0.11,
    specialCases: {
      0: 0.08,
      1: 0.06,
      4: 0.08,
      5: 0.09,
      6: 0.08,
      7: 0.09,
      9: 0.08,
      a: 0.05,
      b: 0.03,
      c: 0.07,
      d: 0.01,
      e: 0.03,
      f: 0.02,
      g: 0.04,
      h: 0.03,
      i: 0.09,
      j: 0.06,
      k: 0.03,
      l: 0.02,
      m: 0.02,
      n: 0.01,
      o: 0.04,
      q: 0.07,
      r: 0.04,
      u: 0.04,
      v: 0.05,
      w: 0.06,
      y: 0.05,
      z: 0.05
    },
  },
  '5': {
    minOverlap: 0.04,
    maxOverlap: 0.10,
    specialCases: {
      7: 0.09,
      a: 0.11,
      b: 0.07,
      d: 0.06,
      i: 0.13,
      r: 0.07,
      u: 0.08,
      x: 0.06
    },
  },
  '6': {
    minOverlap: 0.04,
    maxOverlap: 0.12,
    specialCases: {
      0: 0.08,
      5: 0.08,
      9: 0.15,
      b: 0.07,
      d: 0.07,
      e: 0.09,
      f: 0.06,
      g: 0.09,
      h: 0.07,
      i: 0.13,
      k: 0.07,
      l: 0.06,
      m: 0.07,
      n: 0.09,
      o: 0.08,
      r: 0.06,
      p: 0.10,
      s: 0.10,
      u: 0.08,
      v: 0.09,
      w: 0.09,
      x: 0.10,
      y: 0.09,
      z: 0.06
    },
  },
  '7': {
    minOverlap: 0.04,
    maxOverlap: 0.10,
    specialCases: {
      2: 0.14,
      5: 0.06,
      7: 0.05,
      b: 0.04,
      d: 0.04,
      e: 0.06,
      f: 0.06,
      h: 0.06,
      i: 0.12,
      j: 0.08,
      k: 0.05,
      l: 0.09,
      n: 0.06,
      p: 0.06,
      r: 0.06
    },
  },
  '8': {
    minOverlap: 0.04,
    maxOverlap: 0.12,
    specialCases: {
      2: 0.14,
      4: 0.14,
      5: 0.10,
      6: 0.15,
      9: 0.16,
      p: 0.15
    },
  },
  '9': {
    minOverlap: 0.04,
    maxOverlap: 0.11,
    specialCases: {
      2: 0.13,
      3: 0.13,
      7: 0.08,
      b: 0.06,
      d: 0.06,
      e: 0.04,
      f: 0.04,
      g: 0.12,
      h: 0.09,
      k: 0.06,
      l: 0.07,
      j: 0.07,
      m: 0.08,
      n: 0.07,
      o: 0.10,
      p: 0.09,
      r: 0.09,
      u: 0.08,
      v: 0.09,
      w: 0.10,
      x: 0.09,
      y: 0.09,
      z: 0.05
    },
  },
};

// Exceptions to normal overlapping rules
export const overlapExceptions: Record<string, string[]> = {
  
  d: [],
};

// Note: Overlap lookup functionality has been moved to generatedOverlapLookup.ts
// This file now only contains:
// - DEFAULT_OVERLAP: fallback overlap settings
// - overlapExceptions: special exceptions to overlap rules
// - LETTER_OVERLAP_RULES: legacy rules (only used by OverlapDebugPanel for "reset to original")
